/home/tzhu38/miniconda3/envs/whisperX/lib/python3.10/site-packages/transformers/utils/hub.py:124: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
  warnings.warn(
torchvision is not available - cannot save figures
Downloading: "https://download.pytorch.org/torchaudio/models/wav2vec2_fairseq_base_ls960_asr_ls960.pth" to ./dir/model/wav2vec2_fairseq_base_ls960_asr_ls960.pth
load Whisper model
extract ASR
load align model
  0%|          | 0.00/360M [00:00<?, ?B/s]  2%|▏         | 6.01M/360M [00:00<00:06, 61.9MB/s]  3%|▎         | 12.3M/360M [00:00<00:05, 64.3MB/s]  5%|▌         | 19.0M/360M [00:00<00:05, 66.9MB/s]  7%|▋         | 25.4M/360M [00:00<00:05, 65.8MB/s]  9%|▉         | 32.0M/360M [00:00<00:05, 67.1MB/s] 11%|█         | 38.4M/360M [00:00<00:05, 65.6MB/s] 13%|█▎        | 45.3M/360M [00:00<00:04, 67.7MB/s] 14%|█▍        | 51.8M/360M [00:00<00:05, 56.6MB/s] 16%|█▌        | 58.3M/360M [00:00<00:05, 59.9MB/s] 18%|█▊        | 64.3M/360M [00:01<00:05, 58.5MB/s] 20%|█▉        | 70.9M/360M [00:01<00:04, 61.6MB/s] 21%|██▏       | 76.9M/360M [00:01<00:05, 57.6MB/s] 23%|██▎       | 83.2M/360M [00:01<00:04, 59.9MB/s] 25%|██▍       | 89.8M/360M [00:01<00:04, 62.3MB/s] 27%|██▋       | 97.0M/360M [00:01<00:04, 66.2MB/s] 29%|██▊       | 103M/360M [00:01<00:04, 65.7MB/s]  30%|███       | 110M/360M [00:01<00:04, 65.2MB/s] 32%|███▏      | 116M/360M [00:01<00:04, 60.7MB/s] 34%|███▍      | 122M/360M [00:02<00:04, 60.7MB/s] 36%|███▌      | 128M/360M [00:02<00:03, 62.8MB/s] 37%|███▋      | 135M/360M [00:02<00:03, 64.4MB/s] 39%|███▉      | 142M/360M [00:02<00:03, 66.6MB/s] 41%|████      | 148M/360M [00:02<00:03, 66.1MB/s] 43%|████▎     | 155M/360M [00:02<00:03, 60.3MB/s] 45%|████▍     | 162M/360M [00:02<00:03, 63.3MB/s] 47%|████▋     | 168M/360M [00:02<00:03, 63.8MB/s] 48%|████▊     | 174M/360M [00:02<00:03, 57.3MB/s] 50%|████▉     | 180M/360M [00:03<00:03, 56.9MB/s] 52%|█████▏    | 186M/360M [00:03<00:03, 59.9MB/s] 53%|█████▎    | 192M/360M [00:03<00:03, 50.7MB/s] 55%|█████▍    | 197M/360M [00:03<00:03, 46.7MB/s] 57%|█████▋    | 204M/360M [00:03<00:03, 53.0MB/s] 59%|█████▊    | 211M/360M [00:03<00:02, 57.6MB/s] 60%|██████    | 217M/360M [00:03<00:02, 60.9MB/s] 62%|██████▏   | 223M/360M [00:03<00:02, 60.1MB/s] 64%|██████▎   | 229M/360M [00:03<00:02, 54.7MB/s] 66%|██████▌   | 236M/360M [00:04<00:02, 58.6MB/s] 68%|██████▊   | 243M/360M [00:04<00:01, 63.5MB/s] 69%|██████▉   | 250M/360M [00:04<00:01, 65.7MB/s] 71%|███████   | 257M/360M [00:04<00:01, 65.5MB/s] 73%|███████▎  | 263M/360M [00:04<00:01, 66.9MB/s] 75%|███████▍  | 270M/360M [00:04<00:01, 67.8MB/s] 77%|███████▋  | 277M/360M [00:04<00:01, 66.6MB/s] 79%|███████▊  | 284M/360M [00:04<00:01, 68.5MB/s] 81%|████████  | 290M/360M [00:04<00:01, 66.9MB/s] 82%|████████▏ | 297M/360M [00:05<00:01, 64.5MB/s] 84%|████████▍ | 303M/360M [00:05<00:01, 59.6MB/s] 86%|████████▌ | 309M/360M [00:05<00:00, 62.3MB/s] 88%|████████▊ | 316M/360M [00:05<00:00, 63.5MB/s] 89%|████████▉ | 322M/360M [00:05<00:00, 60.8MB/s] 91%|█████████ | 328M/360M [00:05<00:00, 59.5MB/s] 93%|█████████▎| 334M/360M [00:05<00:00, 61.3MB/s] 95%|█████████▍| 341M/360M [00:05<00:00, 64.8MB/s] 97%|█████████▋| 348M/360M [00:05<00:00, 67.3MB/s] 99%|█████████▊| 355M/360M [00:05<00:00, 67.7MB/s]100%|██████████| 360M/360M [00:06<00:00, 62.2MB/s]
extract audio
align ASR
Failed to align segment (" ♪♪"): no characters in this segment found in model dictionary, resorting to original...
Failed to align segment (" ♪♪"): no characters in this segment found in model dictionary, resorting to original...
Failed to align segment (" ♪♪"): no characters in this segment found in model dictionary, resorting to original...
Failed to align segment (" ♪♪"): no characters in this segment found in model dictionary, resorting to original...
Failed to align segment (" ♪♪"): no characters in this segment found in model dictionary, resorting to original...
saving
Traceback (most recent call last):
  File "/ifs/CS/replicated/home/tzhu38/VidChapters/demo_asr.py", line 27, in <module>
    pickle.dump(aligned_asr, open(args.asr_example, 'wb'))
IsADirectoryError: [Errno 21] Is a directory: './output_asr'
